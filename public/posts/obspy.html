<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>ObsPy | Awesome Installation</title>
  <meta name="author" content="Nick">
  
  <meta name="description" content="本文源于SeisPider开源项目SeisPider.top.posts。旨在利用Anaconda,Pyenv安装ObsPy。
ObsPy安装Pyenv 是一款Python多版本管理工具。它利用Python解释器基于site的特点，将多版本Python分别安装在不同文件夹下，从而实现多版本Pytho">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="ObsPy"/>
  <meta property="og:site_name" content="Awesome Installation"/>

  
    <meta property="og:image" content=""/>
  

  
    <link rel="alternative" href="/awesome-installation/atom.xml" title="Awesome Installation" type="application/atom+xml">
  
  
    <link href="/awesome-installation/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/awesome-installation/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/awesome-installation/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/awesome-installation/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/awesome-installation/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/awesome-installation/css/google-fonts.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/awesome-installation/css/responsive.css" media="screen" type="text/css">  
  <link rel="stylesheet" href="/awesome-installation/css/sidenav.css" media="screen" type="text/css">  
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/awesome-installation/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  

</head>

<body id="body" data-spy="scroll" data-target=".toc">
  <div class="container" id="container">
	<div class="content">
	  <div class="page-header">		
  <h1><a class="brand" href="/awesome-installation/">Awesome Installation</a><span class="split"></span><span class="title">ObsPy</span><span class="date" id="title-date"><i class="fa fa-clock-o"></i> 2015-05-15</span></h1>
</div>		

<div class="row page">
  <!-- cols -->	
  
  <div class="col-xs-12 col-sm-3 col-md-3 toc"> 
	<!-- toc -->
<script type="text/javascript">
		jQuery(document).ready(function() {
 		   generateWikiTOC('.note', '.toc',  2 , 2 );
		});
</script>
  </div><!-- col-md-3 -->
  
  

  
  <div class="col-xs-12 col-sm-9 col-md-9 note">
	

	  <!-- content -->
	  <p>本文源于<a href="https://github.com/SeisPider/" target="_blank" rel="noopener">SeisPider</a>开源项目<a href="https://github.com/SeisPider/SeisPider.top.posts" target="_blank" rel="noopener">SeisPider.top.posts</a>。旨在利用Anaconda,Pyenv安装ObsPy。</p>
<h2 id="ObsPy安装"><a href="#ObsPy安装" class="headerlink" title="ObsPy安装"></a>ObsPy安装</h2><p>Pyenv 是一款Python多版本管理工具。它利用Python解释器基于site的特点，将多版本Python分别安装在不同文件夹下，从而实现多版本Python管理。其提供了一系列命令对Python运行环境进行管理。本人笔记本运行环境为CentOS 7 并安装<a href="http://seisman.info/python-pyenv.html" target="_blank" rel="noopener">Pyenv</a>管理多版本Python。</p>
<p>Anaconda是一个专供科研使用的Python发行包，其中集合了所有重要的Python科学计算模块及其相关依赖。Anaconda是<strong>独立于现有系统</strong>进行安装的。因此，用户无需担心安装破坏当前的Python环境。</p>
<p><strong>Anaconda的安装并不要求用户具备管理员权限</strong></p>
<ul>
<li><a href="https://www.continuum.io/downloads" target="_blank" rel="noopener">Anaconda</a>安装</li>
<li>将<code>conda-forge</code>和<code>obspy</code>通道加入你的Anaconda配置中:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ conda config --add channels conda-forge</span><br><span class="line">$ conda config --add channels obspy</span><br></pre></td></tr></table></figure></li>
<li>安装已在Anaconda云库中预编译过的ObsPy版本:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ conda install obspy</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong><code>Tips</code></strong>：</p>
<ul>
<li>Anaconda安装仅需要以你所用的<code>shell</code>执行安装脚本即可，最后需要用户确认是否将Anaconda加入环境变量，默认的是加入至.bashrc中。若用户使用的是zsh则需要选择<code>No</code>并在.zshrc末尾加上<code>export PATH=&quot;$HOME/anaconda2/bin:$PATH&quot;</code>anaconda2为用户安装路径。其他版本shell同理</li>
<li>安装Anaconda过程中出现任何问题请参考<a href="http://conda.pydata.org/docs/troubleshooting.html" target="_blank" rel="noopener"><code>Troubleshooting</code></a></li>
<li>安装Anaconda3后无法通过<code>conda</code>安装<code>Obspy</code>的用户，请直接使用<code>pip install obspy</code>安装。</li>
</ul>
<h2 id="版本升级"><a href="#版本升级" class="headerlink" title="版本升级"></a>版本升级</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ conda update obspy</span><br></pre></td></tr></table></figure>
<p>若用户并未将<code>conda-forge</code>添加为默认通道，则执行如下代码：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ conda update -c conda-forge obspy</span><br></pre></td></tr></table></figure><br>若用户不进行版本控制可直接前往检验ObsPy安装：<strong><a href="#jump">检验安装</a></strong></p>
<p><strong>建议用户优先采用Anaconda的管理工具<code>conda</code>安装所需安装包</strong><br>用户可通过<code>conda search &lt;package&gt;</code>搜索所需安装包，若显示conda-forge中无该软件的预编译版本则考虑<code>anaconda search -t conda &lt;package_name&gt;</code>查看默认通道外的通道是否存在该安装包。最后再考虑使用<code>pip</code>等安装工具。</p>
<h2 id="版本控制"><a href="#版本控制" class="headerlink" title="版本控制"></a>版本控制</h2><p>ObsPy依赖于一系列的Python科学计算模块，当各个模块进行版本更新后可能造成ObsPy无法使用。因此，用户可以考虑固定ObsPy及其依赖模块的版本，避免模块升级。</p>
<h3 id="ObsPy-0-10-2的版本控制示例"><a href="#ObsPy-0-10-2的版本控制示例" class="headerlink" title="ObsPy 0.10.2的版本控制示例"></a>ObsPy 0.10.2的版本控制示例</h3><p>本示例假定用户使用Python2并期望使用ObsPy0.10.2的情况。</p>
<ul>
<li>添加obspy 的通道<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ conda config --add channels obspy</span><br></pre></td></tr></table></figure></li>
<li><p>创造一个以”obspy0.10”为名的相对独立的运行环境</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">$ conda create -n obspy0.10 python=2.7</span><br><span class="line">Fetching package metadata: ........</span><br><span class="line">Solving package specifications: ...........</span><br><span class="line"></span><br><span class="line">Package plan for installation in environment /home/megies/anaconda/envs/obspy0.10:</span><br><span class="line"></span><br><span class="line">The following NEW packages will be INSTALLED:</span><br><span class="line"></span><br><span class="line">    openssl:    1.0.2g-0     </span><br><span class="line">    pip:        8.1.1-py27_0</span><br><span class="line">    python:     2.7.11-0     </span><br><span class="line">    readline:   6.2-2        </span><br><span class="line">    setuptools: 20.3-py27_0  </span><br><span class="line">    sqlite:     3.9.2-0      </span><br><span class="line">    tk:         8.5.18-0     </span><br><span class="line">    wheel:      0.29.0-py27_0</span><br><span class="line">    zlib:       1.2.8-0      </span><br><span class="line"></span><br><span class="line">Proceed ([y]/n)? y</span><br><span class="line"></span><br><span class="line">Extracting packages ...</span><br><span class="line">[      COMPLETE      ]|######################################| 100%</span><br><span class="line">Linking packages ...</span><br><span class="line">[      COMPLETE      ]|######################################| 100%</span><br><span class="line">#</span><br><span class="line"># To activate this environment, use:</span><br><span class="line"># $ source activate obspy0.10</span><br><span class="line">#</span><br><span class="line"># To deactivate this environment, use:</span><br><span class="line"># $ source deactivate</span><br><span class="line">#</span><br></pre></td></tr></table></figure>
</li>
<li><p>在当前终端激活obspy0.10的运行环境</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ source activate obspy0.10</span><br><span class="line">discarding /path/to/anaconda/bin from PATH</span><br><span class="line">prepending /path/to/anaconda/envs/obspy0.10/bin to PATH</span><br><span class="line">(obspy0.10)$ which python  # just to illustrate which python is in use now</span><br><span class="line">/path/to/anaconda/envs/obspy0.10/bin/python</span><br></pre></td></tr></table></figure>
</li>
<li><p>为固定环境配置安装包</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># contents of /path/to/anaconda/envs/obspy0.10/conda-meta/pinned:</span><br><span class="line">python 2.7.*</span><br><span class="line">numpy 1.10.*</span><br><span class="line">matplotlib 1.5.*</span><br><span class="line">basemap 1.0.*</span><br><span class="line">obspy 0.10.*</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装obspy及其依赖</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">(obspy0.10)$ conda install obspy</span><br><span class="line">Fetching package metadata: ........</span><br><span class="line">Solving package specifications: ...........</span><br><span class="line"></span><br><span class="line">Package plan for installation in environment /home/megies/anaconda/envs/obspy0.10:</span><br><span class="line"></span><br><span class="line">The following packages will be downloaded:</span><br><span class="line"></span><br><span class="line">    package                    |            build</span><br><span class="line">    ---------------------------|-----------------</span><br><span class="line">    libgfortran-3.0            |                0         261 KB</span><br><span class="line">    future-0.15.2              |           py27_0         616 KB</span><br><span class="line">    numpy-1.9.3                |           py27_2         5.7 MB</span><br><span class="line">    pytz-2016.2                |           py27_0         176 KB</span><br><span class="line">    lxml-3.6.0                 |           py27_0         2.8 MB</span><br><span class="line">    python-dateutil-2.5.1      |           py27_0         235 KB</span><br><span class="line">    scipy-0.17.0               |       np19py27_2        29.9 MB</span><br><span class="line">    ------------------------------------------------------------</span><br><span class="line">                                           Total:        39.7 MB</span><br><span class="line"></span><br><span class="line">The following NEW packages will be INSTALLED:</span><br><span class="line"></span><br><span class="line">    basemap:         1.0.7-np19py27_0</span><br><span class="line">    cairo:           1.12.18-6        </span><br><span class="line">    flake8:          2.5.1-py27_0     </span><br><span class="line">    fontconfig:      2.11.1-5         </span><br><span class="line">    freetype:        2.5.5-0          </span><br><span class="line">    funcsigs:        0.4-py27_0       </span><br><span class="line">    future:          0.15.2-py27_0    </span><br><span class="line">    geos:            3.3.3-0          </span><br><span class="line">    libgfortran:     3.0-0            </span><br><span class="line">    libpng:          1.6.17-0         </span><br><span class="line">    libxml2:         2.9.2-0          </span><br><span class="line">    libxslt:         1.1.28-0         </span><br><span class="line">    lxml:            3.6.0-py27_0     </span><br><span class="line">    matplotlib:      1.4.3-np19py27_2</span><br><span class="line">    mccabe:          0.3.1-py27_0     </span><br><span class="line">    mkl:             11.3.1-0         </span><br><span class="line">    mock:            1.3.0-py27_0     </span><br><span class="line">    numpy:           1.9.3-py27_2     </span><br><span class="line">    obspy:           0.10.2-np19py27_0</span><br><span class="line">    pbr:             1.3.0-py27_0     </span><br><span class="line">    pep8:            1.7.0-py27_0     </span><br><span class="line">    pixman:          0.32.6-0         </span><br><span class="line">    py2cairo:        1.10.0-py27_2    </span><br><span class="line">    pyflakes:        1.1.0-py27_0     </span><br><span class="line">    pyparsing:       2.0.3-py27_0     </span><br><span class="line">    pyqt:            4.11.4-py27_1    </span><br><span class="line">    python-dateutil: 2.5.1-py27_0     </span><br><span class="line">    pytz:            2016.2-py27_0    </span><br><span class="line">    qt:              4.8.7-1          </span><br><span class="line">    scipy:           0.17.0-np19py27_2</span><br><span class="line">    sip:             4.16.9-py27_0    </span><br><span class="line">    six:             1.10.0-py27_0    </span><br><span class="line">    sqlalchemy:      1.0.12-py27_0    </span><br><span class="line"></span><br><span class="line">Proceed ([y]/n)?</span><br><span class="line"></span><br><span class="line">Fetching packages ...</span><br><span class="line">libgfortran-3. 100% |######################################| Time: 0:00:00 442.02 kB/s</span><br><span class="line">future-0.15.2- 100% |######################################| Time: 0:00:00 756.18 kB/s</span><br><span class="line">numpy-1.9.3-py 100% |######################################| Time: 0:00:04   1.40 MB/s</span><br><span class="line">pytz-2016.2-py 100% |######################################| Time: 0:00:00 356.89 kB/s</span><br><span class="line">lxml-3.6.0-py2 100% |######################################| Time: 0:00:03 793.42 kB/s</span><br><span class="line">python-dateuti 100% |######################################| Time: 0:00:00 473.91 kB/s</span><br><span class="line">scipy-0.17.0-n 100% |######################################| Time: 0:00:20   1.54 MB/s</span><br><span class="line">Extracting packages ...</span><br><span class="line">[      COMPLETE      ]|######################################| 100%</span><br><span class="line">Linking packages ...</span><br><span class="line">[      COMPLETE      ]|######################################| 100%</span><br></pre></td></tr></table></figure>
</li>
<li><p>完成</p>
</li>
</ul>
<h2 id="检验安装结果"><a href="#检验安装结果" class="headerlink" title="检验安装结果"></a>检验安装结果</h2><p><span id="jump">运行如下代码：</span><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ obspy-runtests</span><br></pre></td></tr></table></figure></p>
<p><code>Tips:</code></p>
<ul>
<li>可根据报错安装相应依赖。例：本机显示缺少mock module。使用<code>conda install mock</code>安装相应依赖。</li>
</ul>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><ul>
<li><a href="https://github.com/obspy/obspy/wiki/Installation-via-Anaconda" target="_blank" rel="noopener">installation via anaconda</a></li>
<li><a href="https://www.continuum.io/downloads" target="_blank" rel="noopener">installation of anaconda</a></li>
<li><a href="https://github.com/yyuu/pyenv#basic-github-checkout" target="_blank" rel="noopener">installation of pyenv</a></li>
<li><a href="https://anaconda.org/obspy/obspy" target="_blank" rel="noopener">obspy package in anaconda cloud</a></li>
<li><a href="http://conda.pydata.org/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting of anaconda</a></li>
</ul>
<h2 id="修改历史"><a href="#修改历史" class="headerlink" title="修改历史"></a>修改历史</h2><ul>
<li>2017-01-06：初稿并翻译”ObsPy通过Anaconda安装”指南</li>
</ul>
	  

	  <div>
  		<center>
		  <div class="pagination">
<ul class="pagination">
	
	
	
	
	
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
			
		
	
		
			
			
			
		
			
		
	
		
			
		
	
		
			
		
	
		
	
	
	
		<li class="prev"><a href="/awesome-installation/posts/SAC.html" class="alignleft prev"><i class="fa fa-arrow-circle-o-left"></i>prev</a></li>
	
	<li><a href="/awesome-installation/"><i class="fa fa-archive"></i>Home</a></li>
	
		<li class="next"><a href="/awesome-installation/posts/Madagascar.html" class="alignright next">next<i class="fa fa-arrow-circle-o-right"></i></a></li>
	
</ul>
</div>

		</center>
	  </div>
	  
	</div> <!-- col-md-9/col-md-12 -->
	
  </div><!-- row -->

	</div>
  </div>
  <div class="container-narrow">
	<footer> <p>
  &copy; 2018 Nick
  
      with help from <a href="http://zespia.tw/hexo/" target="_blank">Hexo</a> and <a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a>. Theme by <a href="http://github.com/wzpan/hexo-theme-wixo/">Wixo</a>.    
</p> </footer>
  </div> <!-- container-narrow -->
  
<a id="gotop" href="#">   
  <span>▲</span> 
</a>

<script src="/awesome-installation/js/jquery.imagesloaded.min.js"></script>
<script src="/awesome-installation/js/gallery.js"></script>
<script src="/awesome-installation/js/bootstrap.min.js"></script>
<script src="/awesome-installation/js/jquery.tableofcontents.min.js"></script>
<script src="/awesome-installation/js/tocgenerator.min.js"></script>
<script src="/awesome-installation/js/main.js"></script>
<script src="/awesome-installation/js/search.js"></script> 




<link rel="stylesheet" href="/awesome-installation/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/awesome-installation/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



   <script type="text/javascript">      
     var search_path = "search.xml";
	 if (search_path.length == 0) {
	 	search_path = "search.xml";
	 }
	 var path = "/awesome-installation/" + search_path;
     searchFunc(path, 'local-search-input', 'local-search-result');
   </script>


</body>
</html>
